!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();let e={name:"Pinkie Pie",species:{race:"Pony",sub_race:"Earth Pony"},gender:"Female",age:21,traits:["Baker"],inventory:[{name:"Cake",value:100},{name:"Bit",value:1}]};const t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALYAAAAFCAYAAADorhbfAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TRSkVBzuoOGSoDmJBVMRRq1CECqFWaNXB5NIvaNKQpLg4Cq4FBz8Wqw4uzro6uAqC4AeIq4uToouU+L+k0CLGg+N+vLv3uHsHCPUy06yOcUDTbTOViIuZ7KrY9QoBAwhhFILMLGNOkpLwHV/3CPD1Lsaz/M/9OXrUnMWAgEg8ywzTJt4gnt60Dc77xBFWlFXic+Ixky5I/Mh1xeM3zgWXBZ4ZMdOpeeIIsVhoY6WNWdHUiKeIo6qmU76Q8VjlvMVZK1dZ8578heGcvrLMdZpDSGARS5AgQkEVJZRhI0arToqFFO3HffyDrl8il0KuEhg5FlCBBtn1g//B726t/OSElxSOA50vjvMxDHTtAo2a43wfO07jBAg+A1d6y1+pAzOfpNdaWvQI6N0GLq5bmrIHXO4A/U+GbMquFKQp5PPA+xl9UxbouwVCa15vzX2cPgBp6ip5AxwcAiMFyl73eXd3e2//nmn29wM8Y3KRNiHvqQAAAAZiS0dEAK8AcgBGw/7rowAAAAlwSFlzAAAOwQAADsEBuJFr7QAAAAd0SU1FB+cCGQwMJX7vqMAAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAnUlEQVRIx2O06lz3n2GQgF+//zCMAsLg95/RcMIGWFlY4GwWBgZGhmUXVxPUpMCgzfDA/yphdRu1GR60EKGuRpuhuY2wutoqbYaoNhGC6pZVvWGIaowmrK5+KUNUBBHqVixliFIjQt2tpQzTGAiry2JYysDAwMDwgOHqaFjTOKznaZ1iYBrN56NgOILRhD0KhiVgHG1jj7axh2MbGwBr+kO+dm9O5gAAAABJRU5ErkJggg==",n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALYAAAAFCAYAAADorhbfAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TRSkVBzuoOGSoDmJBVMRRq1CECqFWaNXB5NIvaNKQpLg4Cq4FBz8Wqw4uzro6uAqC4AeIq4uToouU+L+k0CLGg+N+vLv3uHsHCPUy06yOcUDTbTOViIuZ7KrY9QoBAwhhFILMLGNOkpLwHV/3CPD1Lsaz/M/9OXrUnMWAgEg8ywzTJt4gnt60Dc77xBFWlFXic+Ixky5I/Mh1xeM3zgWXBZ4ZMdOpeeIIsVhoY6WNWdHUiKeIo6qmU76Q8VjlvMVZK1dZ8578heGcvrLMdZpDSGARS5AgQkEVJZRhI0arToqFFO3HffyDrl8il0KuEhg5FlCBBtn1g//B726t/OSElxSOA50vjvMxDHTtAo2a43wfO07jBAg+A1d6y1+pAzOfpNdaWvQI6N0GLq5bmrIHXO4A/U+GbMquFKQp5PPA+xl9UxbouwVCa15vzX2cPgBp6ip5AxwcAiMFyl73eXd3e2//nmn29wM8Y3KRNiHvqQAAAAZiS0dEAK8AcgBGw/7rowAAAAlwSFlzAAAOwQAADsEBuJFr7QAAAAd0SU1FB+cCGQwLKqERI5YAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAA5UlEQVRIx+2WPwrCMByFX7WOdWixmyIIQkVacPQQ/pu8gZv3cPcQ2cQepNAqdhKEbEo7tE5WqYOLivAL2EEk35TAl5A8EnhKf7HKUQjfb3PJrpDQZFeZ0zsVVX2ZqwDQWM7JhSuNY1yt017CMe4KeFuOlk17+4DDtHukdww8mNaU9kIGU6e9U8xQg4AHBiulvVBjAIBRSt95rXEMBbJ2E46BQNbuhqPp0N7B5zAcOuvI92B06DvHOwbdEPAiBl0R8HKG9vmzd3sal2cTlORfl/wj8mFL/hLl0bHznziM7NiyYxfVs+881ke6w1uRPgAAAABJRU5ErkJggg==",i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALYAAAAFCAYAAADorhbfAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TRSkVBzuoOGSoDmJBVMRRq1CECqFWaNXB5NIvaNKQpLg4Cq4FBz8Wqw4uzro6uAqC4AeIq4uToouU+L+k0CLGg+N+vLv3uHsHCPUy06yOcUDTbTOViIuZ7KrY9QoBAwhhFILMLGNOkpLwHV/3CPD1Lsaz/M/9OXrUnMWAgEg8ywzTJt4gnt60Dc77xBFWlFXic+Ixky5I/Mh1xeM3zgWXBZ4ZMdOpeeIIsVhoY6WNWdHUiKeIo6qmU76Q8VjlvMVZK1dZ8578heGcvrLMdZpDSGARS5AgQkEVJZRhI0arToqFFO3HffyDrl8il0KuEhg5FlCBBtn1g//B726t/OSElxSOA50vjvMxDHTtAo2a43wfO07jBAg+A1d6y1+pAzOfpNdaWvQI6N0GLq5bmrIHXO4A/U+GbMquFKQp5PPA+xl9UxbouwVCa15vzX2cPgBp6ip5AxwcAiMFyl73eXd3e2//nmn29wM8Y3KRNiHvqQAAAAZiS0dEAK8AcgBGw/7rowAAAAlwSFlzAAAOwQAADsEBuJFr7QAAAAd0SU1FB+cCGgk3Cv3yF6QAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAArUlEQVRIx2O06lz3n2GQgF+//zCMAsLg95/RcMIGWFlY4GwWBgZGhpiLhgQ1ZTEsZYhSiyaobtmtpQxREUSoW7GUIaqRCHX1Sxmi2kQIq6t6w9DcdpWgutoqbYYHLYTVKdRoMzzwJ0LdRm2GBwxEqGPQZmBgYCBaLdF2E+kXYsOG2LAmOu6ITQtEpq1pDITVzdM6xcA0ms9HwXAEowl7FAxLwDjaxh5tYw/HNjYAa/pDvsmC07YAAAAASUVORK5CYII=",a="/assets/skip-timer-unfilled-36d0095d.png",o="/assets/small-timer-filled-2c938c34.png",r="/assets/small-timer-unfilled-5db2f0c8.png";var l=(e=>(e.Light="theme-light",e.Dark="theme-dark",e.None="theme-none",e))(l||{});const c=document.body;let s="theme-none";function d(e){c.classList.replace(s,e??"theme-none"),s=e??"theme-none"}const u="Pony",A="Pinkie Pie",m=["Kirin","Dragon","Donkey","Mule","Griffin"],p=["Alicorn","Unicorn","Pegasus","Earth Pony"],g=["Female","Male","Gender Fluid","Non-Binary","Agender","Other"],h={timer:"timer",background:"timer-background",foreground:"timer-foreground",skip:"timer-skip",skip_text:"timer-skip-text",left_to_right:"timer-left-to-right",sides_to_center:"timer-sides-to-center",dual_spacing:"timer-dual-spacing",sub:"timer-sub",sub_div:"timer-sub-div",sub_left_to_right:"timer-sub-left-to-right"},w=document.getElementById("game-content"),f=document.documentElement;function v(e){const t=document.createElement("div");t.className="content",t.innerHTML=`${e}`,w.appendChild(t),t.scrollIntoView()}async function y(e){const t=O(e,!0);w.appendChild(t);const n=document.getElementById("input"),i=document.getElementById("submit");return n.focus(),n.scrollIntoView(),await P([{elem:i,event:"click"},...E([n],"keydown","Enter")]),w.removeChild(w.lastChild),n.value.trim()}async function B(e){const t=function(e){const t=M(["content"],"input_radial");t.appendChild(x(e[0],!0));for(let n=1;n<e.length;n++)t.appendChild(x(e[n]));return t.appendChild(L("submit","Enter")),t}(e);w.appendChild(t);const n=document.getElementsByName("radial"),i=document.getElementById("submit");n[0].focus(),n[0].scrollIntoView(),await P([{elem:i,event:"click"},...E(Array.from(n),"keydown","Enter")]);const a=Array.from(n).filter((e=>e.checked))[0].value;return w.removeChild(w.lastChild),-1!=e.indexOf(a)?a:await B(e)}function E(e,t,n){return e.map((e=>({elem:e,event:t,condition:e=>e.key===n})))}async function C(){v("What is your name?");let e=await y("text");return e.length>=2&&e.length<=32?e:(v("Please provide a name between 2 and 32 characters."),await C())}async function I(){v("How old are you?");let e=parseInt(await y("number"));return e>=18&&e<=100?e:(v("Please provide an age between 18 and 99."),await I())}async function b(){v("What species are you?)");let e=await B([u,...m]);return e===u?(v("What pony race are you?"),{race:e,sub_race:await B(p)}):{race:e}}async function k(){return v("What is your gender?"),await B(g)}async function Q(e){const t=O("text",!1),n=L("submit","Enter");w.appendChild(t);const i=document.getElementById("input");i.focus(),i.scrollIntoView(),function(e,t){e.addEventListener("paste",(n=>{n.preventDefault();let i=n.clipboardData.getData("text");e.value.length>t.length?e.value=t:e.value=t.slice(0,i.length)}))}(i,e),await Promise.resolve(function(e,t,n,i){return new Promise((a=>{const o=()=>{e.onkeyup=function(r){if(0!==e.value.length)switch(r.key){case"Enter":e.value===n?(e.removeEventListener(t,o),a()):e.value=n.slice(0,e.value.length+1);case"Delete":e.value===n&&i.remove(),e.value=n.slice(0,e.value.length-1);case"Backspace":document.contains(i)&&i.remove();default:e.value=n.slice(0,e.value.length),e.value===n&&(e.parentElement.appendChild(i),i.onclick=function(){e.removeEventListener(t,o),a()})}}};e.addEventListener(t,o)}))}(i,"keydown",e,n))}function O(e,t){const n=M(["content"],"input_field");return n.appendChild(function(e,t,n,i){const a=document.createElement("input");return a.type=t,a.id="input",a.placeholder="Enter response...",a}(0,e)),t&&n.appendChild(L("submit","Enter")),n}function L(e,t){const n=document.createElement("button");return n.id=e,n.innerText=t,n}function x(e,t){const n=function(e){const t=document.createElement("label");return t.innerText=e,t}(e);return n.prepend(function(e,t){const n=document.createElement("input");return n.type="radio",n.name="radial",n.value=e,t&&(n.checked=!0),n}(e,t)),n}function M(e,t){const n=document.createElement("div");return e&&(n.className=e.join(" ")),t&&(n.id=t),n}function F(e){w.removeChild(e)}function V(e,t,n){const i=document.createElement("img");return i.className=e.join(" "),n&&(i.id=n),i.src=t,i}async function G(e){f.style.setProperty("--timer_delay",e+"ms");const t=M([h.timer]),n=V(["pixelated",h.background,h.skip],a),o=V(["pixelated",h.foreground,h.sides_to_center,h.skip],i),r=N("Press any key, click or tap anywhere to continue.",["content",h.skip_text]);w.appendChild(r),t.appendChild(n),t.appendChild(o),w.appendChild(t),t.scrollIntoView(),await P([{elem:o,event:"animationend"},{elem:document.body,event:"keydown",prevent_default:!0},{elem:document.body,event:"click",prevent_default:!0}]),F(r),F(t)}function N(e,t,n){const i=document.createElement("p");return i.innerText=e,t&&(i.className=t.join(" ")),n&&(i.id=n),i}async function D(e,i,a){f.style.setProperty("--timer_duration",e+"ms"),f.style.setProperty("--sub_timer_duration",e/a+"ms"),f.style.setProperty("--sub_timer_count",a.toString());const l=M(["content"]),c=M([h.timer]),s=N(i+"1/"+a),d=V(["pixelated",h.background,h.sub],o),u=V(["pixelated",h.foreground,h.sub,h.sub_left_to_right],r);c.appendChild(d),c.appendChild(u);const A=M([h.sub_div]);A.appendChild(s),A.appendChild(c);const m=M([h.timer]),p=V(["pixelated",h.background],t),g=V(["pixelated",h.foreground,h.left_to_right],n);m.appendChild(p),m.appendChild(g),l.appendChild(A);const v=M([h.dual_spacing]);l.appendChild(v),l.appendChild(m),w.appendChild(l),l.scrollIntoView(),function(e,t,n,i,a){new Promise((()=>{let o=1;e.addEventListener(t,(function r(){o++,a.innerText=n+o+"/"+i,o===i&&e.removeEventListener(t,r)}))}))}(u,"animationiteration",i,a,s),await P([{elem:g,event:"animationend"}]),F(l)}function P(e){return new Promise((t=>{let n=!1,i=e.map((e=>{let a=a=>function(e,a){n||e.condition&&!e.condition(a)||(n=!0,i.forEach((([e,t])=>e.elem.removeEventListener(e.event,t))),t())}(e,a);return e.elem.addEventListener(e.event,a),[e,a]}))}))}window.onload=async function(){d(function(){switch(localStorage.getItem("theme")){case"theme-light":return"theme-light";case"theme-dark":return"theme-dark";default:return"theme-none"}}());const i=await y("text");await async function(e){if(e.startsWith("/")){v(e);const t=e.split(" ")[0].slice(1),n=e.split(" ")[1],i=e.split(" ")[2];U.includes(t)&&"set"===t&&function(e,t){if(q.includes(e)&&"theme"===e)switch(t){case"light":d(l.Light);case"dark":d(l.Dark);case"none":d()}}(n,i)}else v("To enter a command, start with / before the command.")}(i),await D(5e3,"Baking pie: ",4),await G(2e3),await async function(e){f.style.setProperty("--timer_delay","1000ms");const i=M([h.timer]),a=V(["pixelated",h.background],t),o=V(["pixelated",h.foreground,h.left_to_right],n);i.appendChild(a),i.appendChild(o),w.appendChild(i),i.scrollIntoView(),await P([{elem:o,event:"animationend"}]),F(i)}();const a=e;v(JSON.stringify(a));let o=await async function(){return{name:await C(),age:await I(),species:await b(),gender:await k(),traits:[],inventory:[]}}();await G(3e3),v(o.name),await D(2500,"Eating pie: ",4),v(o.age.toString()),await G(3e3),v(o.species.race.toString()),"Pony"===o.species.race&&v(o.species.sub_race.toString()),v(o.gender),await async function(){v("Who is best Pony?"),await Q(A),w.removeChild(w.lastChild),v(`Please confirm that ${A} is indeed best pony.`),await Q("Yes!"),w.removeChild(w.lastChild)}()};const U=["set","unset"],q=["theme"];
